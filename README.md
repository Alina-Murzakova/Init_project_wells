# Init Project Wells Position
## Инициализация расположения проектных скважин в перспективной зоне бурения

Данный Jupyter Notebook демонстрирует методологический подход к размещению проектных скважин в перспективных зонах бурения (полигонах).
 
Используются методы кластеризации и геометрические алгоритмы для расчёта центроидов и размещения скважин с учетом ограничений 
(фактические скважины, конфигурация зоны и пр.).

> **Важно:**  
> Проект носит демонстрационный характер и предназначен для показа принципа работы кода из основного проекта: 
> [**Infill_drilling** — файл drilling_zones.py](https://github.com/Alina-Murzakova/Infill_drilling/blob/main/app/drill_zones/drilling_zones.py)  
> Часть расчета в Jupyter Notebook может отличаться от основного проекта, т.к. проект находится в разработке.
> 
> Исходные данные не входят в состав репозитория.  

Jupyter Notebook позволяет пошагово разобрать процесс расчёта,
визуализировать каждый этап и при необходимости скорректировать параметры расчёта.

---

### Этапы расчёта  

**1. Загрузка исходных данных**  
  * `list_zones` – список экземпляров класса перспективных зон бурения.  
  *Можно использовать полигон, описанный координатами X и Y (`zone`).*
  * `maps` - экземпляры класса с картами разработки (в т.ч. карта ОИЗ - `residual_recoverable_reserves`).  
  *Можно использовать одну карту – `map_residual_recoverable_reserves`.*
  * `data_wells` – DataFrame c информацией о фактических скважинах (тип, геометрия, длина, азимут, радиус дренирования). 

**2. Кластеризация зон**  
  * Расчёт начального количества проектных скважин в зоне на основе запасов и условной минимально рентабельной добычи.  
  * Разбиение зоны на подзоны (кластеры), в которых будут располагаться проектные скважины, методом **KMeans**.
  * Перераспределение кластеров при наличии несвязанных частей.

**3. Построение горизонтальных скважин**
  * Определение центроидов кластеров (центр кластера - середина ствола проектной скважины).
  * Поиск k-ближайших фактических скважин для каждого центроида на основе алгоритма **k-ближайших соседей**.
  * Расчёт среднего азимута и длины проектных скважин по окружению.
  * Построение линий проектных горизонтальных скважин (от точки T1 до T3).

**4. Исключение пересечений скважин**
  * Проверка на пересечения проектных скважин с фактическими и другими проектными скважинами.
  * Смещение скважин при пересечениях.
  * Вращение скважин при пересечениях.
  * Сокращение длины скважин при пересечениях.
  * Повторение шагов до устранения всех пересечений (или достижения ограничения по попыткам).

---

## Лицензия
Проект лицензирован под [MIT License](LICENSE).